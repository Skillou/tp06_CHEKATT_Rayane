"use strict";(self.webpackChunktp2=self.webpackChunktp2||[]).push([[879],{6879:(pt,h,c)=>{c.r(h),c.d(h,{CatalogueModule:()=>gt});var g=c(6895),U=c(2340),t=c(8274),m=c(1135),j=c(9841),k=c(4986),E=c(4482),I=c(5403),$=c(4004);const F={production:!1,produits:"/assets/mock/produits.json",name:"default"};var L=c(529);let f=(()=>{class e{constructor(n){this.http=n,this.env=F}getCatalogue(){return this.http.get(this.env.produits)}getProductId(n,r){return r.id}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(L.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),b=(()=>{class e{constructor(n){this.catalalogueService=n,this._searchSubject$=new m.X(""),this._categorySubject$=new m.X([]),this.produits$=(0,j.a)([this.catalalogueService.getCatalogue(),this._searchSubject$,this._categorySubject$]).pipe(function q(e,o=k.z){return(0,E.e)((n,r)=>{let a=null,s=null,u=null;const T=()=>{if(a){a.unsubscribe(),a=null;const l=s;s=null,r.next(l)}};function lt(){const l=u+e,S=o.now();if(S<l)return a=this.schedule(void 0,l-S),void r.add(a);T()}n.subscribe((0,I.x)(r,l=>{s=l,u=o.now(),a||(a=o.schedule(lt,e),r.add(a))},()=>{T(),r.complete()},void 0,()=>{s=a=null}))})}(1e3),(0,$.U)(([r,a,s])=>r.filter(u=>u.name.toLowerCase().includes(a.toLowerCase())&&!s.length||s.includes(u.category))))}searchProducts(n){this._searchSubject$.next(n)}categoryProducts(n){this._categorySubject$.next(Object.entries(n).filter(([,r])=>r).map(([r])=>r))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(f))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var N=c(740),p=c(7250),z=c(655),i=c(4006),C=c(7579),Y=c(727),R=(c(457),c(515),c(5577),c(2722));const G=t.GuJ,H=Symbol("__destroy"),P=Symbol("__decoratorApplied");function M(e){return"string"==typeof e?Symbol(`__destroy__${e}`):H}function v(e,o){e[o]||(e[o]=new C.x)}function _(e,o){e[o]&&(e[o].next(),e[o].complete(),e[o]=null)}function y(e){e instanceof Y.w0&&e.unsubscribe()}function x(e,o){return function(){if(e&&e.call(this),_(this,M()),o.arrayName&&function V(e){Array.isArray(e)&&e.forEach(y)}(this[o.arrayName]),o.checkProperties)for(const n in this)o.blackList?.includes(n)||y(this[n])}}function A(e,o){return n=>{const r=M(o);return"string"==typeof o?function ot(e,o,n){const r=e[o];v(e,n),e[o]=function(){r.apply(this,arguments),_(this,n),e[o]=r}}(e,o,r):v(e,r),n.pipe((0,R.R)(e[r]))}}Symbol("CheckerHasBeenSet");const rt=["livre","manga","jeu"];function ct(e,o){if(1&e&&(t.TgZ(0,"div")(1,"label",8),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t._UZ(4,"input",9),t.qZA()),2&e){const n=o.$implicit;t.Tol("badge badge--"+n),t.xp6(1),t.Q6J("for",n),t.xp6(1),t.Oqu(t.lcZ(3,6,n)),t.xp6(2),t.Q6J("id",n)("formControlName",n)}}let d=class{constructor(o,n){this.fb=o,this.service=n,this.categories=rt,this.searchGroup=(0,t.f3M)(i.qu).nonNullable.group({search:["",i.kI.required],category:this.fb.nonNullable.group({livre:!1,manga:!1,jeu:!1})}),this.searchGroup.controls.search.valueChanges.pipe(A(this)).subscribe(r=>this.service.searchProducts(r)),this.searchGroup.get("category").valueChanges.pipe(A(this)).subscribe(r=>this.service.categoryProducts(r))}};d.\u0275fac=function(o){return new(o||d)(t.Y36(i.qu),t.Y36(b))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-recherche-produits"]],decls:8,vars:2,consts:[[3,"formGroup"],[1,"input-group"],[1,"search-bar"],["formControlName","search","type","search","name","search","pattern",".*\\S.*","required",""],["type","submit",1,"search-btn"],["aria-hidden","true",1,"glyphicon","glyphicon-search"],["formGroupName","category",1,"badge__container"],[3,"class",4,"ngFor","ngForOf"],[3,"for"],["type","checkbox",3,"id","formControlName"]],template:function(o,n){1&o&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2),t._UZ(3,"input",3),t.TgZ(4,"button",4),t._UZ(5,"span",5),t.qZA()()(),t.TgZ(6,"form",6),t.YNc(7,ct,5,8,"div",7),t.qZA()()),2&o&&(t.Q6J("formGroup",n.searchGroup),t.xp6(7),t.Q6J("ngForOf",n.categories))},dependencies:[g.sg,i._Y,i.Fj,i.Wl,i.JJ,i.JL,i.Q7,i.c5,i.F,i.sg,i.u,i.x0,g.rS],styles:['*[_ngcontent-%COMP%]{border:0;box-sizing:border-box;margin:0;padding:0}[_ngcontent-%COMP%]:root{font-size:calc(16px + .005*(100vw - 320px))}body[_ngcontent-%COMP%], button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font:1em Hind,sans-serif;line-height:1.5em}body[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{color:#171717}body[_ngcontent-%COMP%], .search-bar[_ngcontent-%COMP%]{display:flex}body[_ngcontent-%COMP%]{background:#757575;height:100vh}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%]:before, .search-btn[_ngcontent-%COMP%]:after{transition:all .25s ease-out}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%]{width:3em;height:3em}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:invalid:not(:focus), .search-btn[_ngcontent-%COMP%]{cursor:pointer}.search-bar[_ngcontent-%COMP%], .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid{width:100%}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:focus) + .search-btn[_ngcontent-%COMP%]:focus{outline:transparent}.search-bar[_ngcontent-%COMP%]{margin:auto;padding:1.5em;justify-content:center;max-width:30em}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border-radius:1.5em;box-shadow:0 0 0 .4em #171717 inset;padding:.75em;transform:translate(.5em,.5em) scale(.5);transform-origin:100% 0;-webkit-appearance:none;appearance:none}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid{background:#fff;border-radius:.375em 0 0 .375em;box-shadow:0 0 0 .1em #d9d9d9 inset;transform:scale(1)}.search-btn[_ngcontent-%COMP%]{background:#171717;border-radius:0 .75em .75em 0/0 1.5em 1.5em 0;padding:.75em;position:relative;transform:translate(.25em,.25em) rotate(45deg) scale(.25,.125);transform-origin:0 50%}.search-btn[_ngcontent-%COMP%]:before, .search-btn[_ngcontent-%COMP%]:after{content:"";display:block;opacity:0;position:absolute}.search-btn[_ngcontent-%COMP%]:before{border-radius:50%;box-shadow:0 0 0 .2em #757575 inset;top:.75em;left:.75em;width:1.2em;height:1.2em}.search-btn[_ngcontent-%COMP%]:after{background:#757575;border-radius:0 .25em .25em 0;top:51%;left:51%;width:.75em;height:.25em;transform:translate(.2em) rotate(45deg);transform-origin:0 50%}.search-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;width:1px;height:1px}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .search-btn[_ngcontent-%COMP%], .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid + .search-btn[_ngcontent-%COMP%]{background:#c5ffd2;border-radius:0 1em 1em 0;transform:scale(1)}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .search-btn[_ngcontent-%COMP%]:before, .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .search-btn[_ngcontent-%COMP%]:after, .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid + .search-btn[_ngcontent-%COMP%]:before, .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid + .search-btn[_ngcontent-%COMP%]:after{opacity:1}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .search-btn[_ngcontent-%COMP%]:hover, .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid + .search-btn[_ngcontent-%COMP%]:hover, .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:focus) + .search-btn[_ngcontent-%COMP%]:focus{background:#a3bdff}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .search-btn[_ngcontent-%COMP%]:active, .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid + .search-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}@media screen and (prefers-color-scheme: dark){body[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{color:#757575}body[_ngcontent-%COMP%]{background:#171717}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{box-shadow:0 0 0 .4em #757575 inset}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid{background:#EEEEEE;box-shadow:0 0 0 .1em #3d3d3d inset}.search-btn[_ngcontent-%COMP%]{background:#757575}}.category_filter[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:250px}.badge__container[_ngcontent-%COMP%]{height:3em;display:flex;align-items:center;justify-content:center;column-gap:1rem}.badge[_ngcontent-%COMP%]{position:relative;width:60px;height:25px;padding-bottom:3px;border-radius:30px;display:flex;justify-content:center;align-items:center;font-weight:400;transition:font-weight .2s ease-in-out}.badge[_ngcontent-%COMP%], .badge[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:pointer}.badge[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.badge[_ngcontent-%COMP%]:hover{font-weight:700}.badge[_ngcontent-%COMP%]:has(input:checked):before{content:"";position:absolute;inset:-4px;border:2px solid;border-radius:34px;pointer-events:none}.badge--livre[_ngcontent-%COMP%]{background-color:#ddd6ff;color:#795eff}.badge--livre[_ngcontent-%COMP%]:has(input:checked):before{border-color:#795eff}.badge--manga[_ngcontent-%COMP%]{background-color:#d6fff4;color:#2a7362}.badge--manga[_ngcontent-%COMP%]:has(input:checked):before{border-color:#2a7362}.badge--jeu[_ngcontent-%COMP%]{background-color:#d6ffe0;color:#548a34}.badge--jeu[_ngcontent-%COMP%]:has(input:checked):before{border-color:#548a34}']}),d=(0,z.gn)([function tt(e={}){return o=>{!function Q(e){return!!e[G]}(o)?function K(e,o){e.prototype.ngOnDestroy=x(e.prototype.ngOnDestroy,o)}(o,e):function W(e,o){const n=e.\u0275pipe;n.onDestroy=x(n.onDestroy,o)}(o,e),function X(e){e.prototype[P]=!0}(o)}}()],d);const it=function(e){return["/catalogue/product/",e]};function at(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",4)(1,"div",5),t._UZ(2,"img",6),t.TgZ(3,"div")(4,"div",7),t._uU(5),t.qZA(),t.TgZ(6,"div",8)(7,"h5",9)(8,"a",10),t._uU(9),t.qZA()(),t.TgZ(10,"h6",11),t._uU(11),t._UZ(12,"br"),t.TgZ(13,"strong"),t._uU(14," Prix :"),t.qZA(),t._uU(15),t.qZA(),t._UZ(16,"br"),t.TgZ(17,"button",12),t.NdJ("click",function(){const s=t.CHM(n).$implicit,u=t.oxw();return t.KtG(u.addProduct(s))}),t._uU(18,"Ajouter au panier"),t.qZA()()()()()}if(2&e){const n=o.$implicit;t.xp6(2),t.s9C("src",n.image,t.LSH),t.s9C("alt",n.image),t.xp6(3),t.Oqu(n.description),t.xp6(3),t.Q6J("routerLink",t.VKq(7,it,n.id)),t.xp6(1),t.Oqu(n.name),t.xp6(2),t.hij(" ",n.category," "),t.xp6(4),t.hij(" ",n.price," \u20ac ")}}function ut(e,o){if(1&e&&(t.TgZ(0,"div",2)(1,"div",3)(2,"div",4),t._UZ(3,"img",5),t.qZA(),t.TgZ(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"span"),t._uU(9),t.qZA(),t.TgZ(10,"p",10),t._uU(11),t.qZA()(),t.TgZ(12,"div",9)(13,"p",11),t._uU(14),t.qZA(),t._UZ(15,"hr",12),t.qZA(),t.TgZ(16,"div",13)(17,"h5"),t._uU(18,"Information : "),t.qZA(),t.TgZ(19,"span"),t._uU(20),t.qZA(),t._UZ(21,"hr",14),t.qZA(),t.TgZ(22,"div",9)(23,"p",15),t._uU(24,"Tag :"),t.qZA(),t.TgZ(25,"div",16)(26,"span"),t._uU(27),t.qZA()()(),t.TgZ(28,"div",9)(29,"h6"),t._uU(30,"Quantit\xe9 :"),t.qZA(),t._UZ(31,"input",17),t.qZA(),t.TgZ(32,"div",18)(33,"div",8)(34,"div",19)(35,"a",20),t._uU(36,"Ajouter au panier"),t.qZA()()()()()()()(),t.TgZ(37,"div",8)(38,"div",21)(39,"h4"),t._uU(40,"Plus de produits"),t.qZA()()()()),2&e){const n=t.oxw();t.xp6(3),t.s9C("src",n.produit.image,t.LSH),t.xp6(6),t.Oqu(n.produit.description),t.xp6(2),t.Oqu(n.produit.name),t.xp6(3),t.hij("",n.produit.price," \u20ac"),t.xp6(6),t.Oqu(n.produit.summary),t.xp6(7),t.Oqu(n.produit.category)}}const dt=[{path:"",component:(()=>{class e{constructor(n,r){this.service=n,this.store=r}getProductId(n,r){return r.id}addProduct(n){this.store.dispatch(new U.Rl(n))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(b),t.Y36(N.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-catalogue"]],decls:8,vars:3,consts:[[1,"container"],[1,"container-fluid","mt-3"],[1,"row"],["class","col-md-12",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"card",2,"width","20rem"],[1,"rounded","center-block",3,"src","alt"],[1,"card-footer","text-muted","text-sm-center"],[1,"card-body"],[1,"card-title"],[3,"routerLink"],[1,"card-subtitle","mb-2","text-muted"],[1,"btn","btn-success","center-block",3,"click"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Catalogue produits :"),t.qZA(),t._UZ(3,"app-recherche-produits"),t.TgZ(4,"div",1)(5,"div",2),t.YNc(6,at,19,9,"div",3),t.ALo(7,"async"),t.qZA()()()),2&n&&(t.xp6(6),t.Q6J("ngForOf",t.lcZ(7,1,r.service.produits$)))},dependencies:[g.sg,p.yS,d,g.Ov],styles:["h1[_ngcontent-%COMP%]{background:red;color:red}img[_ngcontent-%COMP%]{max-width:20em;max-height:100em}.card[_ngcontent-%COMP%]{float:none;margin:0 auto 10px}.center-block[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}"]}),e})(),pathMatch:"full"},{path:"product/:id",component:(()=>{class e{constructor(n,r){this.route=n,this.catalogueService=r}ngOnInit(){this.catalogueService.getCatalogue().subscribe(n=>this.produit=n.find(r=>r.id==this.route.snapshot.params.id))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.gz),t.Y36(f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-produit-detail"]],decls:4,vars:1,consts:[[1,"container"],["class","col-lg-8 border p-3 main-section bg-white",4,"ngIf"],[1,"col-lg-8","border","p-3","main-section","bg-white"],[1,"row","m-0"],[1,"col-lg-4","left-side-product-box","pb-3"],[1,"border","p-3",3,"src"],[1,"col-lg-8"],[1,"right-side-pro-detail","border","p-3","m-0"],[1,"row"],[1,"col-lg-12"],[1,"m-0","p-0"],[1,"m-0","p-0","price-pro"],[1,"p-0","m-0"],[1,"col-lg-12","pt-2"],[1,"m-0","pt-2","mt-2"],[1,"tag-section"],[1,"badge"],["type","number","value","1",1,"form-control","text-center","w-100"],[1,"col-lg-12","mt-3"],[1,"col-lg-6","pb-2"],["href","#",1,"btn","btn-success","w-100"],[1,"col-lg-12","text-center","pt-3"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"D\xe9tail du produit"),t.qZA(),t.YNc(3,ut,41,6,"div",1),t.qZA()),2&n&&(t.xp6(3),t.Q6J("ngIf",r.produit))},dependencies:[g.O5],styles:[".hedding[_ngcontent-%COMP%]{font-size:20px;color:#ab8181}.main-section[_ngcontent-%COMP%]{position:absolute;left:50%;right:50%;transform:translate(-50%,5%)}.left-side-product-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.left-side-product-box[_ngcontent-%COMP%]   .sub-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:5px;width:83px;height:100px}.right-side-pro-detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px}.right-side-pro-detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:25px;color:#595959}.right-side-pro-detail[_ngcontent-%COMP%]   .price-pro[_ngcontent-%COMP%]{color:#d22f18}.right-side-pro-detail[_ngcontent-%COMP%]   .tag-section[_ngcontent-%COMP%]{font-size:18px;color:#000}.pro-box-section[_ngcontent-%COMP%]   .pro-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px}@media (min-width:360px) and (max-width:640px){.pro-box-section[_ngcontent-%COMP%]   .pro-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto}}.badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#ddd6ff;width:60px;height:25px;padding-bottom:3px;border-radius:10px;display:flex;color:#795eff;justify-content:center;align-items:center}.card[_ngcontent-%COMP%]{border:none;border-radius:10px}"]}),e})()}];let gt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,p.Bz.forChild(dt),i.u5,i.UX]}),e})()}}]);